<!DOCTYPE html>
<html>
  <head>
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="navi.js"></script>
    <title>Navi.js Examples</title>
    <link href='http://fonts.googleapis.com/css?family=Poiret+One' rel='stylesheet' type='text/css'>

    <style>
      :root {
        font-family: 'Poiret One', cursive;
      }

      h1 {
        font-size: 3em;
      }

      h2 {
        font-size: 2.5em;
      }

      h1, h2 {
        text-align: center;
      }

      pre {
        background-color: #d8e0ef;
        padding: 15px;
        width: 90%;
        margin: 0 auto;
        border-radius: 8px;
        white-space: pre-wrap;
        white-space: -moz-pre-wrap;
        white-space: -pre-wrap;
        white-space: -o-pre-wrap;
        word-wrap: break-word;
      }

      .example {
        margin: 50px 0;
      }

      .hello_you div {
        text-align: center;
        font-size: 2em;
      }

      .hello_you form {
        width: 20%;
        margin: 5px auto 0 auto;
      }

      #name_input {
        width: 100%;
        padding: 5px;
        text-align:center;
      }

      .example svg{
        display: block;
        margin: 0 auto;
      }
    </style>
  </head>
  <body>

    <h1>Navi.js Examples</h1>
    <hr>
    <h2>Hello You!</h2>

    <pre>
      $(function(){

        var input_object = Navi( $( "input#first_name_input" ));
        var span_object = Navi( $("#first_name_show") );

        span_object.update = function(object) {
          var name = object.val();
          this.text(name.length > 0 ? name + "!" : "");
        };

        span_object.listen(input_object, "update");

        form_object.keyup(function() {
          input_object.notify();
        });
      });

      &lt;div&gt;Hello &lt;span id="name_show"&gt;&lt;/span&gt;&lt;/div&gt;
      &lt;form&gt;
        &lt;input type="text" name="name_input" id="name_input" placeholder="Enter your name" /&gt;
      &lt;/form&gt;
    </pre>

    <div class="example hello_you">
      <div>Hello <span id="name_show"></span></div>
      <form>
        <input type="text" name="name_input" id="name_input" placeholder="Enter your name" />
      </form>
    </div>

    <script>
      $(function(){

        var input_object = Navi( $( "#name_input" ));
        var span_object = Navi( $("#name_show") );

        span_object.update = function(object) {
          var name = object.val();
          this.text(name.length > 0 ? name + "!" : "");
        };

        span_object.listen(input_object, "update");

        input_object.keyup(function() {
          input_object.notify();
        });
      });
    </script>

    <h2>Reflecting Circles</h2>

    <pre>
      $(function(){

        var radius, i = 0, Pi = Math.PI;
        var circle_1_object = Navi($("#circle_1"));
        var circle_2_object = Navi($("#circle_2"));

        circle_2_object.change = function(object) {
          this.attr('r', 201 - object.attr('r'))
        };

        circle_2_object.listen(circle_1_object, "change");

        setInterval(function(){
          if (i / 100 > (2 * Pi)) i = 0;
          radius = Math.ceil((Math.sin(i / 100) + 1) * 100);
          circle_1_object.attr('r', radius);
          circle_1_object.notify();
          i++;
        }, 10);
      });

      &lt;svg width="606" height="404"&gt;
        &lt;circle cx="202" cy="202" r="100" stroke="black" stroke-width="1" fill="#D74B4B" id="circle_1" /&gt;
        &lt;circle cx="404" cy="202" r="100" stroke="black" stroke-width="1" fill="#475F77" id="circle_2" /&gt;
      &lt;/svg&gt;
    </pre>

    <script>
      $(function(){

        var radius, i = 0, Pi = Math.PI;
        var circle_1_object = Navi($("#circle_1"));
        var circle_2_object = Navi($("#circle_2"));

        circle_2_object.change = function(object) {
          this.attr('r', 201 - object.attr('r'))
        };

        circle_2_object.listen(circle_1_object, "change");

        setInterval(function(){
          if (i / 100 > (2 * Pi)) i = 0;
          radius = Math.ceil((Math.sin(i / 100) + 1) * 100);
          circle_1_object.attr('r', radius);
          circle_1_object.notify();
          i++;
        }, 10);
      });
    </script>

    <div class="example reflecting_circles">
      <svg width="606" height="404">
        <circle cx="202" cy="202" r="100" stroke="black" stroke-width="1" fill="#D74B4B" id="circle_1" />
        <circle cx="404" cy="202" r="100" stroke="black" stroke-width="1" fill="#475F77" id="circle_2" />
      </svg>
    </div>

    <h2>Daisy Chain</h2>

    <pre>
      $(function(){

        var Messenger = function(circle_group) {

          this.count = 0;
          this.circle_group = circle_group;

          this.update = function(object){

            var that = this;

            this.count =  object.count + 1;
            this.circle_group.children('text').text(this.count);
            setTimeout(function(){ that.notify() }, 750);
          }

          Navi(this);
        };

        var one   = new Messenger($('#message_circle_1'));
        var two   = new Messenger($('#message_circle_2'));
        var three = new Messenger($('#message_circle_3'));

        two.listen(one, "update");
        three.listen(two, "update");
        one.listen(three, "update");

        one.notify();
      });

      &lt;svg width="388" height="104"&gt;
        &lt;g id="message_circle_1"&gt;
          &lt;circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(52, 52)"/&gt;
          &lt;text fill="black" text-anchor="middle" y="65" x="52" font-size="40px"&gt;0&lt;/text&gt;
        &lt;/g&gt;
        &lt;g id="message_circle_2"&gt;
          &lt;circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(194, 52)"/&gt;
          &lt;text fill="black" text-anchor="middle" y="65" x="194" font-size="40px"&gt;0&lt;/text&gt;
        &lt;/g&gt;
        &lt;g id="message_circle_3"&gt;
          &lt;circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(336, 52)"/&gt;
          &lt;text fill="black" text-anchor="middle" y="65" x="336" font-size="40px"&gt;0&lt;/text&gt;
        &lt;/g&gt;
      &lt;/svg&gt;
    </pre>

    <script>

      $(function(){

        var Messenger = function(circle_group) {

          this.count = 0;
          this.circle_group = circle_group;

          this.update = function(object){

            var that = this;

            this.count =  object.count + 1;
            this.circle_group.children('text').text(this.count);
            setTimeout(function(){ that.notify() }, 750);
          }

          Navi(this);
        };

        var one   = new Messenger($('#message_circle_1'));
        var two   = new Messenger($('#message_circle_2'));
        var three = new Messenger($('#message_circle_3'));

        two.listen(one, "update");
        three.listen(two, "update");
        one.listen(three, "update");

        one.notify();
      });

    </script>
    <div class="example daisy_chain">
      <svg width="388" height="104">
        <g id="message_circle_1">
          <circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(52, 52)"/>
          <text fill="black" text-anchor="middle" y="65" x="52" font-size="40px">0</text>
        </g>
        <g id="message_circle_2">
          <circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(194, 52)"/>
          <text fill="black" text-anchor="middle" y="65" x="194" font-size="40px">0</text>
        </g>
        <g id="message_circle_3">
          <circle r="50" stroke="black" stroke-width="1" fill="#5dc97d" transform="translate(336, 52)"/>
          <text fill="black" text-anchor="middle" y="65" x="336" font-size="40px">0</text>
        </g>
      </svg>
    </div>

  </body>
</html>
